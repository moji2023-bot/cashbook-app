<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Trade Receivables & Payables Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f8f9fa; margin: 0; padding: 16px; }
    h2, h3 { color: #223366; }
    #summary { background: #fff; padding: 12px; border-radius: 6px; box-shadow: 0 1px 4px #ccc; margin-bottom: 12px; }
    table { width: 100%; background:#fff; border-radius:7px; overflow: hidden; margin-bottom:10px;}
    th, td { border-bottom: 1px solid #eee; padding: 6px 4px; }
    th { background: #e5edf6; }
    .payable { color: #b04848; font-weight: bold; }
    .receivable { color: #259c52; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Trade Payables & Receivables</h2>
  <form id="entryForm">
    Name: <input type="text" id="name" required>
    Amount: <input type="number" id="amount" required>
    Type: 
    <select id="type">
      <option value="Receivable">Receivable (They owe me)</option>
      <option value="Payable">Payable (I owe them)</option>
    </select>
    <button type="button" onclick="addEntry()">Add Entry</button>
  </form>

  <h3>Entries</h3>
  <table id="entriesTable">
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody id="entriesBody"></tbody>
  </table>

  <h3>Balance Summary</h3>
  <table id="summary">
    <thead>
      <tr>
        <th>Name</th>
        <th>Receivable(₹)</th>
        <th>Payable(₹)</th>
        <th>Net Balance(₹)</th>
      </tr>
    </thead>
    <tbody id="summaryBody"></tbody>
  </table>

<script>
  let entries = [];

  function addEntry() {
    const name = document.getElementById('name').value.trim();
    const amount = parseFloat(document.getElementById('amount').value);
    const type = document.getElementById('type').value;
    if (!name || isNaN(amount) || amount <= 0) {
      alert("Please enter a valid name and amount.");
      return;
    }
    entries.push({name, amount, type});
    showEntries();
    showSummary();
    document.getElementById('entryForm').reset();
  }

  function showEntries() {
    const body = document.getElementById('entriesBody');
    body.innerHTML = '';
    entries.forEach(entry => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${entry.name}</td>
        <td class="${entry.type === 'Receivable' ? 'receivable' : 'payable'}">${entry.type}</td>
        <td>₹${entry.amount.toFixed(2)}</td>
      `;
      body.appendChild(tr);
    });
  }

  function showSummary() {
    const summary = {};
    entries.forEach(entry => {
      if (!(entry.name in summary)) summary[entry.name] = {receivable:0, payable:0};
      if (entry.type == 'Receivable') summary[entry.name].receivable += entry.amount;
      if (entry.type == 'Payable') summary[entry.name].payable += entry.amount;
    });

    const body = document.getElementById('summaryBody');
    body.innerHTML = '';
    Object.keys(summary).forEach(name => {
      const receivable = summary[name].receivable;
      const payable = summary[name].payable;
      const net = receivable - payable;
      body.innerHTML += `
        <tr>
          <td>${name}</td>
          <td class="receivable">${receivable.toFixed(2)}</td>
          <td class="payable">${payable.toFixed(2)}</td>
          <td style="font-weight:bold; color:${net>=0?'#259c52':'#b04848'}">
            ${net>=0?'+':'-'}₹${Math.abs(net).toFixed(2)}
          </td>
        </tr>
      `;
    });
  }

  showEntries();
  showSummary();
</script>
</body>
</html>
